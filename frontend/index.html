<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Microshop Frontend</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 50px;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 400px;
        }

        h1 {
            color: #1c1e21;
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .product-list {
            list-style: none;
            padding: 0;
        }

        .product-item {
            background: #e7f3ff;
            margin: 10px 0;
            padding: 12px;
            border-radius: 8px;
            color: #0e81f6;
            font-weight: bold;
            border: 1px solid #cfe9ff;
        }

        .error {
            color: red;
            text-align: center;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>üì¶ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h1>
        <ul id="products" class="product-list">
            <li>–ó–∞–≥—Ä—É–∑–∫–∞...</li>
        </ul>
    </div>

    <script>
        async function fetchProducts() {
            try {
                // –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ –Ω–∞—à–µ–º—É –±—ç–∫–µ–Ω–¥—É (–ø–æ—Ä—Ç 5000)
                const response = await fetch('http://localhost:5000/products');
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');

                const data = await response.json();
                const listElement = document.getElementById('products');
                listElement.innerHTML = ''; // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏

                // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
                data.forEach(product => {
                    const li = document.createElement('li');
                    li.className = 'product-item';
                    li.textContent = product;
                    listElement.appendChild(li);
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                document.getElementById('products').innerHTML = `<li class="error">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã: ${error.message}</li>`;
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        fetchProducts();
    </script>
</body>

</html>